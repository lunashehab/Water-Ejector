<!DOCTYPE html>
<html lang="en">
<head>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5129097020907805" crossorigin="anonymous"></script>

    <meta charset="UTF-8" />
    <title>Speaker Cleaner Pro | Water & Dust Ejector</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="description" content="Premium audio utility to remove water and dust from phone speakers. Precision frequency generator with multiple cleaning modes.">
    
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#000000">

    <link href="https://fonts.googleapis.com/css2?family=Exo+2:wght@300;600;800&display=swap" rel="stylesheet">

    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "SoftwareApplication",
      "name": "Speaker Cleaner Pro",
      "applicationCategory": "Utility",
      "operatingSystem": "Any",
      "featureList": "Water Ejection, Dust Removal, Stereo Test"
    }
    </script>

    <style>
        :root {
            --bg: #000000;
            --panel: #111111;
            --neon: #39ff14; /* Tesla/Neon Green */
            --neon-dim: rgba(57, 255, 20, 0.1);
            --text-main: #ffffff;
            --text-muted: #666666;
            --border: #222222;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }

        body {
            font-family: 'Exo 2', sans-serif;
            background: var(--bg);
            color: var(--text-main);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            overflow-x: hidden;
        }

        /* --- BACKGROUND FX --- */
        .bg-glow {
            position: fixed; top: -50%; left: -50%; width: 200%; height: 200%;
            background: radial-gradient(circle at center, rgba(57, 255, 20, 0.03) 0%, transparent 50%);
            z-index: -1; pointer-events: none;
        }

        .shell { width: 100%; max-width: 500px; display: flex; flex-direction: column; gap: 24px; z-index: 1; }

        /* --- HEADER --- */
        header { text-align: center; margin: 30px 0 10px; }
        h1 { 
            font-size: 36px; font-weight: 800; text-transform: uppercase; letter-spacing: 2px;
            background: linear-gradient(to bottom, #fff, #888);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }
        .tagline { color: var(--neon); font-size: 12px; letter-spacing: 3px; text-transform: uppercase; font-weight: 600; }

        /* --- DASHBOARD PANELS --- */
        .panel {
            background: var(--panel);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 24px;
            position: relative;
            box-shadow: 0 20px 50px rgba(0,0,0,0.8);
            backdrop-filter: blur(10px);
        }
        
        .panel::before {
            content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 2px;
            background: linear-gradient(90deg, transparent, var(--neon), transparent);
            opacity: 0.5;
        }

        .panel-header {
            display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;
        }
        .panel-title { font-size: 14px; text-transform: uppercase; color: var(--text-muted); letter-spacing: 1px; }
        .status-light { width: 8px; height: 8px; background: #333; border-radius: 50%; box-shadow: 0 0 5px #000; transition: 0.3s; }
        .status-light.active { background: var(--neon); box-shadow: 0 0 10px var(--neon); }

        /* --- MAIN BUTTONS --- */
        .mode-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }

        .btn-mode {
            background: #0a0a0a; border: 1px solid var(--border);
            border-radius: 12px; height: 120px;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            cursor: pointer; transition: all 0.3s ease;
            position: relative; overflow: hidden;
        }
        
        .btn-mode svg { width: 32px; height: 32px; fill: #444; margin-bottom: 10px; transition: 0.3s; }
        .btn-mode span { color: #666; font-size: 12px; font-weight: 600; text-transform: uppercase; letter-spacing: 1px; transition: 0.3s; }

        .btn-mode:hover { border-color: var(--neon); box-shadow: 0 0 20px var(--neon-dim); }
        .btn-mode:hover svg { fill: var(--neon); }
        .btn-mode:hover span { color: #fff; }

        /* Active State */
        .btn-mode.active { background: rgba(57, 255, 20, 0.05); border-color: var(--neon); }
        .btn-mode.active svg { fill: var(--neon); animation: pulse 1s infinite alternate; }
        .btn-mode.active span { color: var(--neon); }
        
        @keyframes pulse { 0% { opacity: 0.6; transform: scale(0.95); } 100% { opacity: 1; transform: scale(1.05); } }

        /* --- MANUAL SLIDER --- */
        .slider-container { margin-top: 10px; }
        input[type=range] {
            width: 100%; -webkit-appearance: none; background: transparent;
        }
        input[type=range]::-webkit-slider-runnable-track {
            width: 100%; height: 4px; background: #333; border-radius: 2px;
        }
        input[type=range]::-webkit-slider-thumb {
            height: 20px; width: 10px; background: var(--neon);
            border-radius: 2px; -webkit-appearance: none; margin-top: -8px;
            box-shadow: 0 0 10px var(--neon); cursor: grab;
        }
        .freq-readout {
            font-family: monospace; font-size: 32px; color: var(--neon);
            text-align: right; margin-bottom: 10px; text-shadow: 0 0 10px var(--neon-dim);
        }

        /* --- DESCRIPTION --- */
        .desc-box {
            color: #888; font-size: 13px; line-height: 1.6; text-align: justify;
        }
        .desc-box strong { color: #fff; }

        /* --- FOOTER --- */
        footer { margin-top: 40px; text-align: center; font-size: 11px; color: #444; }
        footer a { color: #666; text-decoration: none; margin: 0 10px; text-transform: uppercase; }
        footer a:hover { color: var(--neon); }

        /* --- COOKIE BANNER --- */
        #cookie-banner {
            display: none; position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%);
            background: rgba(17, 17, 17, 0.95); padding: 20px; border-radius: 12px; 
            border: 1px solid var(--neon); 
            box-shadow: 0 0 30px rgba(0,0,0,0.9); 
            width: 90%; max-width: 400px; z-index: 1000; text-align: center;
            backdrop-filter: blur(10px);
        }
    </style>
</head>
<body>

<div class="bg-glow"></div>

<div class="shell">
    <header>
        <h1>Speaker<span>Cleaner</span></h1>
        <div class="tagline">Audio Maintenance System</div>
    </header>

    <div class="panel">
        <div class="panel-header">
            <span class="panel-title">Cleaning Protocols</span>
            <div id="status-light" class="status-light"></div>
        </div>
        
        <div class="mode-grid">
            <button class="btn-mode" id="btn-water" onclick="toggleMode('water')">
                <svg viewBox="0 0 24 24"><path d="M12 22c4.97 0 9-4.03 9-9-4.5 0-9-5-9-13 0 8-4.5 13-9 13 0 4.97 4.03 9 9 9z"/></svg>
                <span>Liquid Eject</span>
            </button>
            
            <button class="btn-mode" id="btn-dust" onclick="toggleMode('dust')">
                <svg viewBox="0 0 24 24"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"/></svg>
                <span>Dust Purge</span>
            </button>
        </div>
    </div>

    <div class="panel">
        <div class="panel-header">
            <span class="panel-title">Manual Frequency Override</span>
        </div>
        <div class="freq-readout"><span id="freq-val">165</span><span style="font-size:14px; color:#444;"> Hz</span></div>
        <div class="slider-container">
            <input type="range" id="freq-slider" min="20" max="20000" value="165" step="1">
        </div>
        <button class="btn-mode" id="btn-manual" style="width:100%; height: 50px; margin-top:20px; flex-direction:row; gap:10px;" onclick="toggleMode('manual')">
            <svg style="width:18px;height:18px;margin:0;" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
            <span>Activate Signal</span>
        </button>
    </div>

    <div class="panel">
        <p class="desc-box">
            <strong>System Ready.</strong> Advanced acoustic engineering for device longevity. 
            <br><br>
            Use <strong>Liquid Eject</strong> (165Hz) to generate low-frequency pressure waves that physically push water droplets out of speaker mesh. 
            <br><br>
            Use <strong>Dust Purge</strong> to initiate a variable high-frequency sweep that dislodges dry particles and lint accumulation.
        </p>
    </div>

    <footer>
        <a href="privacy.html">Privacy</a> • <a href="terms.html">Terms</a> • <a href="contact.html">Contact</a>
        <br><br>© 2026 WaterInMySpeaker.com
    </footer>
</div>

<div id="cookie-banner">
    <p style="color: #ccc; font-size: 13px; margin-bottom: 15px;">We use cookies to enhance system performance and analyze traffic.</p>
    <button onclick="acceptCookies()" style="background: var(--neon); color: black; border: none; padding: 10px 30px; border-radius: 4px; font-weight: 800; cursor: pointer;">ACKNOWLEDGE</button>
</div>

<script>
    // --- COOKIE LOGIC ---
    if (!localStorage.getItem('cookiesAccepted')) {
        document.getElementById('cookie-banner').style.display = 'block';
    }
    function acceptCookies() {
        localStorage.setItem('cookiesAccepted', 'true');
        document.getElementById('cookie-banner').style.display = 'none';
    }

    // --- AUDIO CORE ---
    let audioCtx;
    let oscillator;
    let gainNode;
    let isPlaying = false;
    let currentMode = null; 
    let dustInterval;

    async function initAudio() {
        if (!audioCtx) {
            const AudioContext = window.AudioContext || window.webkitAudioContext;
            audioCtx = new AudioContext();
        }
        if (audioCtx.state === 'suspended') {
            await audioCtx.resume();
        }
    }

    function stopSound() {
        if (oscillator) {
            try { oscillator.stop(); oscillator.disconnect(); } catch(e) {}
            oscillator = null;
        }
        if (dustInterval) clearInterval(dustInterval);
        
        isPlaying = false;
        currentMode = null;
        updateUI();
    }

    async function startTone(freq, type = 'sine') {
        await initAudio();
        stopSound(); 
        
        // Start Sound
        isPlaying = true;
        playOscillator(freq, type);
        updateUI();
    }

    function playOscillator(freq, type) {
        oscillator = audioCtx.createOscillator();
        gainNode = audioCtx.createGain();
        
        oscillator.type = type;
        oscillator.frequency.value = freq;
        
        oscillator.connect(gainNode);
        gainNode.connect(audioCtx.destination);
        
        gainNode.gain.setValueAtTime(0.01, audioCtx.currentTime);
        gainNode.gain.exponentialRampToValueAtTime(1, audioCtx.currentTime + 0.1);
        
        oscillator.start();
    }

    // --- MODES ---
    async function toggleMode(mode) {
        if (isPlaying && currentMode === mode) {
            stopSound();
            return;
        }

        currentMode = mode;
        
        if (mode === 'water') {
            // Standard Water Eject Frequency
            startTone(165, 'sawtooth');
        } 
        else if (mode === 'dust') {
            // Dust Mode: Alternating High Frequencies
            await initAudio();
            stopSound();
            isPlaying = true;
            currentMode = 'dust';
            updateUI();
            
            let high = true;
            const cycleDust = () => {
                if (oscillator) { try{oscillator.stop();}catch(e){} }
                playOscillator(high ? 12000 : 8000, 'square');
                high = !high;
            };
            cycleDust();
            dustInterval = setInterval(cycleDust, 500); // Switch every 500ms
        }
        else if (mode === 'manual') {
            const val = document.getElementById('freq-slider').value;
            startTone(val, 'sine');
        }
    }

    // --- UI UPDATES ---
    function updateUI() {
        // Reset all buttons
        document.querySelectorAll('.btn-mode').forEach(b => b.classList.remove('active'));
        document.getElementById('status-light').classList.remove('active');

        if (isPlaying) {
            document.getElementById('status-light').classList.add('active');
            if (currentMode === 'water') document.getElementById('btn-water').classList.add('active');
            if (currentMode === 'dust') document.getElementById('btn-dust').classList.add('active');
            if (currentMode === 'manual') {
                document.getElementById('btn-manual').classList.add('active');
                document.querySelector('#btn-manual span').innerText = "DEACTIVATE";
            }
        } else {
            document.querySelector('#btn-manual span').innerText = "ACTIVATE SIGNAL";
        }
    }

    // Slider Logic
    document.getElementById('freq-slider').addEventListener('input', (e) => {
        const val = e.target.value;
        document.getElementById('freq-val').innerText = val;
        if (isPlaying && currentMode === 'manual' && oscillator) {
            oscillator.frequency.setValueAtTime(val, audioCtx.currentTime);
        }
    });

</script>
</body>
</html>
